{"version":3,"file":"dev.js","sources":["../../../src/cli/services/dev.ts","../../../src/cli/commands/hydrogen/dev.ts"],"sourcesContent":["import {createServer} from 'vite'\n\ninterface DevOptions {\n  directory: string\n  force: boolean\n  host: boolean\n}\n\nasync function dev({directory, force, host}: DevOptions) {\n  const server = await createServer({\n    root: directory,\n    server: {\n      open: true,\n      force,\n      host,\n    },\n  })\n\n  await server.listen()\n  server.printUrls()\n}\n\nexport default dev\n","import devService from '../../services/dev'\nimport {path, cli} from '@shopify/cli-kit'\nimport {Command, Flags} from '@oclif/core'\n\nexport default class Dev extends Command {\n  static description = 'Run a Hydrogen storefront locally for development'\n  static flags = {\n    ...cli.globalFlags,\n    path: Flags.string({\n      hidden: true,\n      description: 'the path to your hydrogen storefront',\n      env: 'SHOPIFY_FLAG_PATH',\n    }),\n    force: Flags.boolean({\n      description: 'force dependency pre-bundling.',\n      env: 'SHOPIFY_FLAG_DEV_FORCE',\n    }),\n    host: Flags.boolean({\n      description: 'listen on all addresses, including LAN and public addresses.',\n      env: 'SHOPIFY_FLAG_DEV_HOST',\n    }),\n  }\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(Dev)\n    const directory = flags.path ? path.resolve(flags.path) : process.cwd()\n\n    await devService({directory, ...flags})\n  }\n}\n"],"names":["devService"],"mappings":";;;;AAQA,eAAmB,GAAA,CAAA,EAAC,SAAW,EAAA,KAAA,EAAO,IAAmB,EAAA,EAAA;AACvD,EAAM,MAAA,MAAA,GAAS,MAAM,YAAa,CAAA;AAAA,IAChC,IAAM,EAAA,SAAA;AAAA,IACN,MAAQ,EAAA;AAAA,MACN,IAAM,EAAA,IAAA;AAAA,MACN,KAAA;AAAA,MACA,IAAA;AAAA,KACF;AAAA,GACD,CAAA,CAAA;AAED,EAAA,MAAM,OAAO,MAAO,EAAA,CAAA;AACpB,EAAA,MAAA,CAAO,SAAU,EAAA,CAAA;AACnB;;AChBA,MAAA,IAAA,GAAA,cAAiC,OAAQ,CAAA;AAAA,EAAA,MAmBjC,GAAqB,GAAA;AACzB,IAAA,MAAM,EAAC,KAAA,EAAA,GAAS,MAAM,IAAA,CAAK,MAAM,IAAG,CAAA,CAAA;AACpC,IAAM,MAAA,SAAA,GAAY,MAAM,IAAO,GAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,IAAI,CAAI,GAAA,OAAA,CAAQ,GAAI,EAAA,CAAA;AAEtE,IAAA,MAAMA,GAAW,CAAA,EAAC,SAAc,EAAA,GAAA,KAAA,EAAM,CAAA,CAAA;AAAA,GACxC;AACF,CAAA,CAAA;AAzBA,IAAA,GAAA,GAAA,KAAA;AAAA,IACS,WAAc,GAAA,mDAAA,CAAA;AADvB,IAES,KAAQ,GAAA;AAAA,EAAA,GACV,GAAI,CAAA,WAAA;AAAA,EACP,IAAA,EAAM,MAAM,MAAO,CAAA;AAAA,IACjB,MAAQ,EAAA,IAAA;AAAA,IACR,WAAa,EAAA,sCAAA;AAAA,IACb,GAAK,EAAA,mBAAA;AAAA,GACN,CAAA;AAAA,EACD,KAAA,EAAO,MAAM,OAAQ,CAAA;AAAA,IACnB,WAAa,EAAA,gCAAA;AAAA,IACb,GAAK,EAAA,wBAAA;AAAA,GACN,CAAA;AAAA,EACD,IAAA,EAAM,MAAM,OAAQ,CAAA;AAAA,IAClB,WAAa,EAAA,8DAAA;AAAA,IACb,GAAK,EAAA,uBAAA;AAAA,GACN,CAAA;AACH,CAAA;;;;"}